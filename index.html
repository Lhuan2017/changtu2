<!DOCTYPE html>
<html>
<head>
<title>请回答2017</title>
<meta charset="UTF-8">
<!-- 设置宽度为设备的宽度，默认不缩放，不允许用户缩放（即禁止缩放），在网页加载时隐藏地址栏与导航栏（ios7.1新增） -->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<!-- 是否启动webapp功能，会删除默认的苹果工具栏和菜单栏。 -->
<meta name="apple-mobile-web-app-capable" content="yes">
<!-- 当启动webapp功能时，显示手机信号、时间、电池的顶部导航栏的颜色。默认值为default（白色），可以定为black（黑色）和black-translucent（灰色半透明）。这个主要是根据实际的页面设计的主体色为搭配来进行设置。 -->
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<!-- 忽略页面中的数字识别为电话号码、email识别 -->
<meta name="format-detection" content="telephone=no, email=no">
<!-- 启用360浏览器的极速模式(webkit) -->
<meta name="renderer" content="webkit">
<!-- 避免IE使用兼容模式 -->
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 -->
<meta name="HandheldFriendly" content="true">
<!-- 微软的老式浏览器 -->
<meta name="MobileOptimized" content="320">
<!-- uc强制竖屏 -->
<meta name="screen-orientation" content="portrait">
<!-- QQ强制竖屏 -->
<meta name="x5-orientation" content="portrait">
<!-- UC强制全屏 -->
<meta name="full-screen" content="yes">
<!-- QQ强制全屏 -->
<meta name="x5-fullscreen" content="true">
<!-- UC应用模式 -->
<meta name="browsermode" content="application">
<!-- QQ应用模式 -->
<meta name="x5-page-mode" content="app">
<!-- windows phone 点击无高光 -->
<meta name="msapplication-tap-highlight" content="no">
<!-- 网页不会被缓存 -->
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-Control" content="no-cache">
<meta http-equiv="Expires" content="0">
<meta name="apple-touch-fullscreen" content="yes" />
<meta name="apple-mobile-web-app-capable" content="yes" />
</head>
<body>
jjjjjjjjjjjjjjjjjjjjjjjj
<div class="page first hide">
  <div class="scale"><img url="first.jpg"></div>
</div>
<div class="page tips click hide">
	<div class="scale">
	   <div class="page tips1">
		   <div class="tips-title"><img url="tips1.png" tp="bg"></div>
		   <div class="tips-line1"><img url="tips1.png" tp="bg"></div>
		   <div class="tips-line2"><img url="tips1.png" tp="bg"></div>
		   <div class="tips-line3"><img url="tips1.png" tp="bg"></div>
		   <div class="tips-line4"><img url="tips1.png" tp="bg"></div>
		</div>
	   <div class="page tips2 hide"><img url="tips2.png"></div>
	   
	</div>
</div>
<div class="page main main1 hide">
  <div class="pic pic1">
       <img url="pic.jpg">
	   <div class="containner"></div>
	   <div class="containner2">
		   <div class="btns btn2 click">
				 <div class="page">
					  <img url="btn2.png">
					  <div class="ele-ticket">
						  <span>
						     <img url="ele-ticket.png">
							 <img url="ele-ticket2.png">
						  </span>
					   </div>
					   <div class="ele-screen">
					        <span>
							   <img url="ele-screen.png">
							   <img url="ele-screen2.png">
							</span>
					   </div>
				 </div>
		   </div>
	   </div>
	   <!--
	   <div class="scale personBox">
		 <div class="canvasBox hide">
			<div id="canvas">
					<div class="shadow"></div>
					<div class="me">
						<div class="torso">
							<div class="left leg">
								<div class="left thigh">
									<div class="left shin">
										<div class="left foot">
											<div class="left toes"></div>
										</div>
									</div>
								</div>
							</div>
							<div class="right leg">
								<div class="right thigh">
									<div class="right shin">
										<div class="right foot">
											<div class="right toes"></div>
										</div>
									</div>
								</div>
							</div>
							<div class="left arm">
								<div class="left bicep">
									<div class="left forearm"></div>
								</div>
							</div>
							<div class="right arm">
								<div class="right bicep">
									<div class="right forearm"></div>
								</div>
							</div>
						</div>
					</div>
			</div>
		  </div>
	   </div>
	   -->
	   <div class="containner2">
	       <div class="btns btn1 click">
		     <div class="page">
		        <img url="btn1.png">
                <div class="ele-waimai">
				     <span>
					    <img url="ele-waimai.png">
						<img url="ele-waimai2.png">
					 </span>
				 </div>
			  </div>
		   </div>
		   <div class="btns btn3 click">
		      <div class="page">
				  <div class="ele-zhifubao">
				     <span>
					    <img url="ele-zhifubao.png">
						<img url="btn3.png">
					 </span>
				  </div>
			   </div>
		   </div>
		   <div class="btns btn4 click">
		     <div class="page">
		         <img url="btn4.png">
			  </div>
		   </div>
		   <div class="btns btn5 click">
		     <div class="page">
		        <img url="btn5.png">
				<div class="ele-yuguaqi1">
				     <span>
					    <img url="ele-yuguaqi1.png">
						<img url="ele-yuguaqi1-2.png">
					</span>
				</div>
				<div class="ele-yuguaqi2">
				     <span>
					     <img url="ele-yuguaqi2.png">
						 <img url="ele-yuguaqi2-2.png"> 
					 </span>
				</div>
			 </div>
		   </div>
		   <div class="ele-baozhi" style="left:1857px;top:592px;width:44px;height:29px;"><span><img url="ele-baozhi.png"></span></div>
		   <div class="ele-bus" style="left:2583px;top:458px;width:595px;height:237px;"><span><img url="ele-bus.png"></span></div>
		   <div class="ele-motuo5" style="left:2651px;top:617px;width:81px;height:81px;"><span><img url="ele-motuo5.png"></span></div>
		   <div class="ele-motuo6" style="left:3033px;top:621px;width:84px;height:84px;"><span><img url="ele-motuo6.png"></span></div>
		   <div class="ele-denglong4" style="left:1544px;top:186px;width:33px;height:44px;"><span><img url="ele-denglong4.png"></span></div>
           <div class="ele-denglong6" style="left:3496px;top:537px;width:27px;height:36px;"><span><img url="ele-denglong6.png"></span></div>
	   </div> 
	   <div class="containner2 containner4"></div>
	   <div class="page pic3">
	      <img url="ele-bubble.png">
	   </div>
   </div>
   	<div class="page ui">
	     <div class="scale3">
		   <div class="icons">
		     <div class="page"><img url="icons1.png"></div>
			 <div class="page">
			   <div class="icon icon1"><img url="icons2.png" tp="bg"></div>
			   <div class="icon icon2"><img url="icons2.png" tp="bg"></div>
			   <div class="icon icon3"><img url="icons2.png" tp="bg"></div>
			   <div class="icon icon4"><img url="icons2.png" tp="bg"></div>
			   <div class="icon icon5"><img url="icons2.png" tp="bg"></div>
			 </div>
		   </div>
		</div>
	</div>
</div>
<div class="page main main2 hide">
  <div class="pic pic2">
	  <img url="pic2.jpg">
	  <div class="containner3"></div>
   </div>
</div>
<div class="page last hide"> 
	<div class="scale">
		<img url="last.png">
		<div class="txt">
		    <div class="txt1"><img url="txt.png" tp="bg"></div>
			<div class="txt2"><img url="txt.png" tp="bg"></div>
			<div class="txt3"><img url="txt.png" tp="bg"></div>
		</div>
		<div class="last-btn replay-btn click"></div>
		<div class="last-btn finish-btn click"></div>
		<div class="last-btn invite-btn click"></div>
		<div class="close-btn click"><img url="close.png"></div>
		
	</div>
</div>
<div class="page share hide click">
   <div class="scale"><img url="share.png"></div>
</div>

<script> 

var verson="2017-12-7-8";  
var bgmSound;
if(!('WeixinJSBridge' in window)){
    if('ontouchstart' in document.documentElement) document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
	else onBridgeReady(); 
}else{
   onBridgeReady();
}
function onBridgeReady(){ 
  //bgmSound=getSound('bgm');  
  ofoSound=getSound('ofo');    
  huiguiSound=getSound('huigui'); 
  jacksonSound=getSound('jackson');  
}
getAllLinks(['images/layout.css'],function(links){  //load css
   if(!('pushState' in history)){
     alert('不支持当前浏览器！'); 
	 return;
   }

   for(var i=0;i<links.length;i++){
       var link=document.createElement('link');
	   link.rel="stylesheet";
	   link.href=links[i];
	   document.head.appendChild(link);
   }
   
   load_modules([/*'http://res.wx.qq.com/open/js/jweixin-1.0.0.js','/sysScripts/tools.js',*/'js/h5lib.js','js/main.js'],function(){  //load js
       console.log('done');
  });
});
function load_modules(urls, fn) {
	var arr = urls;
	if (typeof(urls) == 'string') arr = [urls];
	var load = function() {
			var s = document.createElement('script');
			s.onload = function() {
				this.parentNode.removeChild(this);
				if (arr.length) load();
				else fn && fn()
			};
			s.onerror = function() {
				this.parentNode.removeChild(this)
			};
			s.src = arr[0]+"?verson="+verson;
			arr.shift();
			document.body.appendChild(s)
		};
	load()
}
function getSound(name,fn){
	  var audio=new Audio();
	  audio.preload=true;
	  audio.autoplay=false;
	  //if(isTouch&&name!='btn') audio.muted=true;
	  var obj={};
	  if(name=='bgm' || name=="huigui"||name=='jackson'){
	    audio.loop=true;
		/*
		audio.addEventListener('play',function(){
			this.isInit=true;
			//isMute=false;
			music_btn.addClass('play');
		});
		
		audio.addEventListener('pause',function(){
			//isMute=true;
			music_btn.removeClass('play');
		});
		*/
		obj=audio;
	  }else{
	     //ext=".m4a";
		 obj.play=function(){ 
			 //if(isMute) return;
			 audio.currentTime=0;
			 audio.play();
		 };
		 obj.pause=function(){
			 audio.pause(); 
			 //if(isTouch) audio.muted=false;
		 };
		 obj.audio=audio;
		 
	  }
	  audio.src='sounds/'+name+'.mp3?t='+verson;  
	  audio.load();
      fn&&fn();
	  return obj;
}
function getAllLinks(arr,completeFn,progressFn){
    if(typeof(arr)!="object"||arr.length==0) return;  
    var getCachedLink=function(url,fn){
	  var url2=url;
	  url+=(url.indexOf('?')>-1?'&':'?')+'verson='+verson;   //去缓存
	  window.URL = window.URL||window.webkitURL||window.mozURL||window.msURL;
	  var isCross=false;
	  if(url.indexOf('://')>-1&&url.indexOf(location.host)<0)  isCross=true;
	  if(false&&window.URL&&!isCross){ 
	    if(!('cachedLinks' in window)) cachedLinks={};
        if(cachedLinks[url2]){
		   fn&&fn(cachedLinks[url2]); 
		}else{	
			var xhr = new XMLHttpRequest();   
			xhr.open("GET", url, true);
			xhr.responseType = "blob";
			xhr.onreadystatechange = function() {
				if (this.readyState == 4) {
					if(this.status == 200){
						var blob = this.response; 
						var link=window.URL.createObjectURL(blob);
						cachedLinks[url2]=link;
						fn&&fn(link);
					}else{
						getCachedLink(url2,fn);  //失败重连
					}
				}
			}
			xhr.send();
		}
	  }else { 
		var ext=url2.split('.').pop().toLowerCase();
		url2+=(url2.indexOf('?')>-1?'&':'?')+'verson='+verson;   //去缓存
		if(ext=='jpg'||ext=='png'||ext=='gif'){  //缓存图片
		   if(!('cachedImgs' in window))  cachedImgs=[];
			var img=new Image();
			img.onload=function(){
			   //cachedImgs.push(this);
			   cachedImgs[url.split('?')[0]]=this;
			   fn&&fn(url2); 
			};
			img.onerror=function(){
			  this.src=url2;
			  console.log('fail');
			};
			img.src=url2;
		}else  fn&&fn(url2); 
	  }
    };
    var data=[];
	var loaded=0;
	var total=arr.length;
	var cb=function(link){
	      loaded++;
		  data.push(link);
		  if(loaded==total){
			 progressFn&&progressFn(1);
			 completeFn&&completeFn(data);
		  }else{
			 progressFn&&progressFn(loaded/total);
		  }
	};
	for(var i=0;i<total;i++){
	  getCachedLink(arr[i],cb);
	}
}
</script>
</body>
</html>